{% extends 'navi.html'%}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<link href="{% static 'source/main.css'%}" rel="stylesheet" />
<script src="{% static 'source/main.js'%}"></script>
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.3.0/main.min.js' rel='stylesheet />'
<link href='https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.css' rel='stylesheet' />
<link href='https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.1/css/all.css' rel='stylesheet'>

    {% block head %}
      
    {% endblock head %}

<script>
  //full-calendar
    $(document).ready(function() {
        $('#calendar').fullCalendar({
            events: [
                {% for l in eventslist %}
                    {
                        title: '{{ l.eventname }}',
                        start: '{{ l.venue__date }}'
                    },
                {% endfor %}
            ],
        });
    });

  //full-calendar.google

  $(document).addEventListener('DOMContentLoaded', function() {
    var calendarEl = $(document).getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {

      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,listYear'
      },

      displayEventTime: false, // don't show the time column in list view

      // THIS KEY WON'T WORK IN PRODUCTION!!!
      // To make your own Google API key, follow the directions here:
      // http://fullcalendar.io/docs/google_calendar/
      googleCalendarApiKey: 'AIzaSyBWE6iG9927UgyqF6uB920zlHGb8ZTnALM',

      // US Holidays
      events: 'nophegp3qcqu6pmft36iltafgc@group.calendar.google.com'
      


      loading: function(bool) {
        $(document).getElementById('loading').style.display =
          bool ? 'block' : 'none';
      }

    });

    $('#calendar').render();
  });


</script>

<style>

  body {
    margin: 40px 10px;
    padding: 0;
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    font-size: 14px;
  }

  #loading {
    display: none;
    position: absolute;
    top: 10px;
    right: 10px;
  }

  #calendar {
    max-width: 1100px;
    margin: 0 auto;
  }

</style>

</head>
<body>
{% block content %}

  <div id='loading'>loading...</div>
  
  <div id='calendar'></div>

  <iframe src="https://calendar.google.com/calendar/embed?height=600&amp;wkst=1&amp;bgcolor=%23ffffff&amp;ctz=Asia%2FSeoul&amp;src=bm9waGVncDNxY3F1NnBtZnQzNmlsdGFmZ2NAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&amp;color=%239E69AF&amp;showTitle=0&amp;showNav=1&amp;showDate=1&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0" style="border-width:0" width="1100" height="800" frameborder="20" scrolling="yes"></iframe>
{% endblock content %}
</body>
</html>
